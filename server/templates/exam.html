<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="x-ua-compatible" content="ie=edge" />
        <meta name="viewport" content="width=device-width" />
        <title>Exam</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
            rel="stylesheet"
        />
        <style>
            html {
                max-width: 70ch;
                padding: 3em 1em;
                margin: auto;
                line-height: 1.5;
                font-size: 1.1em;
            }

            h1,
            h2,
            h3,
            h4,
            h5,
            h6 {
                font-family: "Roboto", sans-serif;
            }

            .displaymath {
                font-family: "Times New Roman", serif;
            }
        </style>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script
            id="MathJax-script"
            async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
        ></script>
        <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
        <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
        <script>
            const { jsPDF } = window.jspdf;

            function downloadPdf() {
                const pdf = new jsPDF("p", "pt", "letter");

                const urlParams = new URLSearchParams(window.location.search);
                const seed = urlParams.get("seed");

                pdf.html(document.body, {
                    callback: function (doc) {
                        doc.save(`midtermr-${seed}.pdf`);
                    },
                });
            }
        </script>
    </head>
    <body>
        <h1>Exam</h1>
        <button id="export" onclick="downloadPdf()">Export as PDF</button>
        {{exam|safe}}
    </body>
</html>
